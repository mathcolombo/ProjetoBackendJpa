<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Projeto Backend | Funcionário</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" th:href="@{/}">Projeto Backend</a>
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" th:href="@{/}">Início</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" th:href="@{/funcionarios}">Lista de Funcionários</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container mt-4">

    <h1>Atualização de Funcionário</h1>

    <form th:action="@{'/funcionarios/atualiza/' + ${funcionario.id}}" method="post">

      <fieldset>

        <legend>Dados do Funcionário</legend>

        <div class="mb-3">
          <label for="nome" class="form-label">Nome</label>
          <input type="text" name="nome" id="nome" th:value="${funcionario.nome}" class="form-control" required />
        </div>

        <div class="mb-3">
          <label for="cpf" class="form-label">CPF</label>
          <input type="text" name="cpf" id="cpf" th:value="${funcionario.cpf}" class="form-control" required />
        </div>

        <div class="mb-3">
          <label for="dataNascimento" class="form-label">Data de Nascimento</label>
          <input type="text" name="dataNascimento" id="dataNascimento" th:value="${funcionario.dataNascimento}" class="form-control" required />
        </div>

        <div class="mb-3">

          <label for="departamento" class="form-label">Departamento</label>
          <select name="departamento" id="departamento" class="form-control" required>
            <option value="" disabled selected>Selecione um Departamento</option>
            <option th:each="departamento : ${departamentos}"
                    th:value="${departamento.id}"
                    th:text="${departamento.nome}"
                    th:selected="${departamento.id == funcionario.departamento.id}"></option>
          </select>

        </div>

        <div class="mb-3">
          <label for="dataAdmissao" class="form-label">Data de Admissão</label>
          <input type="text" name="dataAdmissao" id="dataAdmissao" th:value="${funcionario.dataAdmissao}" class="form-control" required />
        </div>

        <div class="mb-3">

            <label for="status" class="form-label">Status</label>
            <select name="status" id="status" class="form-control" required>
              <option value="Ativo" th:selected="${funcionario.status == 'Ativo'}">Ativo</option>
              <option value="Inativo" th:selected="${funcionario.status == 'Inativo'}">Inativo</option>
            </select>

          </div>

        <div class="mb-3">
          <button type="submit" class="btn btn-primary">Salvar</button>
        </div>

        <div class="mb-3">
          <a th:href="@{'/funcionarios/exclui/' + ${funcionario.id}}" class="btn btn-danger">Excluir</a>
        </div>
      </fieldset>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>
</body>

</html>
